# 桌面端与手机端功能对比

## 📊 功能对比表

| 功能分类 | 功能项 | 桌面端 | 手机端 | 优先级 | 备注 |
|---------|--------|--------|--------|--------|------|
| **首页 (Home)** |
| | Clash 模式切换 (Rule/Global/Direct) | ✅ | ✅ | 高 | 已实现 |
| | 当前代理显示 | ✅ | ✅ | 高 | 已实现 |
| | 流量统计 (上传/下载) | ✅ | ✅ | 高 | 已实现 |
| | 流量图表 (实时曲线) | ✅ | ❌ | 中 | 需要适配移动端图表 |
| | Clash 核心信息 | ✅ | ❌ | 中 | 版本、端口、运行时间 |
| | IP 信息卡片 | ✅ | ❌ | 中 | 国家、ISP、位置等 |
| | 系统信息卡片 | ✅ | ❌ | 低 | 系统版本、自启动等 |
| | 延迟测试 | ✅ | ❌ | 高 | 需要实现 |
| **代理 (Proxies)** |
| | 代理组列表 | ✅ | ✅ | 高 | 已实现 |
| | 代理节点选择 | ✅ | ✅ | 高 | 已实现 |
| | 延迟测试 (单个) | ✅ | ✅ | 高 | 已实现 |
| | 延迟测试 (批量) | ✅ | ❌ | 高 | 需要实现 |
| | 代理链 (Chain Proxy) | ✅ | ❌ | 低 | 高级功能 |
| | 代理排序 | ✅ | ❌ | 中 | 按延迟、名称排序 |
| | 代理搜索 | ✅ | ❌ | 中 | 搜索节点名称 |
| **配置 (Profiles)** |
| | 配置列表 | ✅ | ✅ | 高 | 已实现 |
| | 添加配置 (URL) | ✅ | ✅ | 高 | 已实现 |
| | 添加配置 (本地文件) | ✅ | ❌ | 中 | 移动端文件选择 |
| | 编辑配置 | ✅ | ✅ | 高 | 已实现 |
| | 删除配置 | ✅ | ✅ | 高 | 已实现 |
| | 更新配置 | ✅ | ✅ | 高 | 已实现 |
| | 配置增强 (Script) | ✅ | ❌ | 低 | 高级功能 |
| | 配置合并 | ✅ | ❌ | 低 | 高级功能 |
| **连接 (Connections)** |
| | 连接列表 | ✅ | ✅ | 高 | 已实现 |
| | 连接详情 | ✅ | ✅ | 高 | 已实现 |
| | 关闭连接 | ✅ | ❌ | 中 | 需要实现 |
| | 关闭所有连接 | ✅ | ❌ | 中 | 需要实现 |
| | 连接搜索/过滤 | ✅ | ❌ | 中 | 按域名、IP过滤 |
| | 实时更新 | ✅ | ✅ | 高 | 已实现 |
| **规则 (Rules)** |
| | 规则列表 | ✅ | ✅ | 高 | 已实现 |
| | 规则搜索 | ✅ | ❌ | 中 | 搜索规则内容 |
| | 规则统计 | ✅ | ❌ | 低 | 规则类型统计 |
| **日志 (Logs)** |
| | 日志显示 | ✅ | ✅ | 高 | 已实现 |
| | 日志级别过滤 | ✅ | ❌ | 中 | Info/Warning/Error |
| | 日志搜索 | ✅ | ❌ | 中 | 搜索日志内容 |
| | 清空日志 | ✅ | ❌ | 低 | 需要实现 |
| **设置 (Settings)** |
| | **Clash 设置** |
| | IPv6 开关 | ✅ | ❌ | 中 | 需要实现 |
| | Allow LAN | ✅ | ❌ | 中 | 需要实现 |
| | 日志级别 | ✅ | ❌ | 低 | 需要实现 |
| | 统一延迟 | ✅ | ❌ | 低 | 需要实现 |
| | 混合端口设置 | ✅ | ❌ | 中 | 需要实现 |
| | DNS 设置 | ✅ | ❌ | 中 | 需要实现 |
| | 外部控制器 | ✅ | ❌ | 低 | 高级功能 |
| | Web UI | ✅ | ❌ | 低 | 高级功能 |
| | 网络接口 | ✅ | ❌ | 低 | 高级功能 |
| | **系统设置** |
| | 系统代理 | ✅ | ❌ | 高 | Android VPN模式 |
| | TUN 模式 | ✅ | ✅ | 高 | Android VPN |
| | 开机自启 | ✅ | ❌ | 中 | 需要实现 |
| | 静默启动 | ✅ | ❌ | 低 | 桌面端特有 |
| | 系统代理绕过 | ✅ | ❌ | 中 | 需要实现 |
| | **Verge 设置** |
| | 语言切换 | ✅ | ❌ | 高 | 需要实现 |
| | 主题切换 (亮/暗) | ✅ | ❌ | 高 | 需要实现 |
| | 主题颜色 | ✅ | ❌ | 中 | 需要实现 |
| | 流量图表 | ✅ | ❌ | 低 | 需要实现 |
| | 菜单图标 | ✅ | ❌ | 低 | 桌面端特有 |
| | 托盘图标 | ✅ | N/A | N/A | 桌面端特有 |
| | 热键设置 | ✅ | N/A | N/A | 桌面端特有 |
| | 窗口大小记忆 | ✅ | N/A | N/A | 桌面端特有 |
| | 自动关闭连接 | ✅ | ❌ | 中 | 切换模式时 |
| | 默认延迟测试 URL | ✅ | ❌ | 中 | 需要实现 |
| | 代理布局模式 | ✅ | ❌ | 低 | 表格/卡片 |
| | **高级设置** |
| | 配置备份 | ✅ | ❌ | 中 | 需要实现 |
| | 配置恢复 | ✅ | ❌ | 中 | 需要实现 |
| | 检查更新 | ✅ | ❌ | 中 | 需要实现 |
| | 更新订阅 | ✅ | ❌ | 低 | 需要实现 |
| | 服务模式 | ✅ | N/A | N/A | Windows特有 |
| | UWP 工具 | ✅ | N/A | N/A | Windows特有 |
| **其他功能** |
| | Unlock (解锁) | ✅ | ❌ | 低 | 特殊功能 |
| | 通知提示 | ✅ | ❌ | 中 | 需要适配 |
| | 崩溃报告 | ✅ | ❌ | 低 | 需要实现 |

## 🎯 优先级说明

- **高优先级**: 核心功能，影响基本使用
- **中优先级**: 重要功能，提升用户体验
- **低优先级**: 辅助功能，可后续添加
- **N/A**: 平台特有功能，无需适配

## 📱 移动端特有功能

| 功能 | 状态 | 说明 |
|------|------|------|
| VPN 权限请求 | ✅ | Android VPN API |
| 通知栏控制 | ❌ | 快速开关 VPN |
| 快捷设置磁贴 | ❌ | Quick Settings Tile |
| 电池优化豁免 | ❌ | 保持后台运行 |
| 自动启动权限 | ❌ | 开机自启 |
| 分享配置 | ❌ | 通过其他应用分享 |
| 扫码导入配置 | ❌ | 二维码扫描 |
| 指纹/面部解锁 | ❌ | 生物识别 |

## 🚀 下一步实现计划

### Phase 1: 核心功能完善 (高优先级)
1. ✅ VPN 连接/断开
2. ✅ 流量统计显示
3. ✅ Clash 模式切换
4. ✅ 代理节点选择
5. ❌ 延迟测试 (批量)
6. ❌ 关闭连接功能

### Phase 2: 设置功能 (中优先级)
1. ❌ 语言切换
2. ❌ 主题切换 (亮/暗模式)
3. ❌ IPv6 开关
4. ❌ Allow LAN
5. ❌ 混合端口设置
6. ❌ 开机自启
7. ❌ 默认延迟测试 URL

### Phase 3: 高级功能 (低优先级)
1. ❌ 配置备份/恢复
2. ❌ 配置增强 (Script)
3. ❌ 代理链
4. ❌ 流量图表
5. ❌ IP 信息显示
6. ❌ 检查更新

### Phase 4: 移动端特有功能
1. ❌ 通知栏控制
2. ❌ 快捷设置磁贴
3. ❌ 扫码导入配置
4. ❌ 分享配置
5. ❌ 电池优化豁免
6. ❌ 指纹/面部解锁

## 📝 技术实现说明

### 桌面端技术栈
- Tauri (Rust + WebView)
- React + TypeScript
- Material-UI
- SWR (数据获取)
- React Router

### 移动端技术栈
- React Native
- TypeScript
- React Navigation
- Native Android (Kotlin)
- Android VPN API

### 共享代码
- API 服务层 (`services/api.ts`)
- 类型定义 (`types.d.ts`)
- 工具函数 (`utils/`)

## 🔄 同步策略

1. **API 层统一**: 桌面端和移动端使用相同的 API 接口
2. **组件复用**: 尽可能复用业务逻辑组件
3. **UI 适配**: 根据平台特性调整 UI 实现
4. **功能对等**: 保持核心功能在两端的一致性

## ⚠️ 注意事项

1. **Android VPN 限制**: 
   - 系统代理功能由 VPN 模式替代
   - 需要用户授权 VPN 权限
   - 后台运行需要电池优化豁免

2. **性能考虑**:
   - 移动端减少实时更新频率
   - 优化列表渲染性能
   - 减少不必要的网络请求

3. **用户体验**:
   - 简化复杂设置项
   - 提供更直观的操作反馈
   - 适配不同屏幕尺寸

4. **权限管理**:
   - VPN 权限 (必需)
   - 网络权限 (必需)
   - 存储权限 (配置导入/导出)
   - 相机权限 (扫码功能)
   - 自启动权限 (可选)
